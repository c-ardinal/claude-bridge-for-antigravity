# Claude Code Bridge for Antigravity

[ [ğŸ‡ºğŸ‡¸ English](README.md) | [ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª](README_ja.md) ]

[![Antigravity Compatible](https://img.shields.io/badge/Antigravity-Compatible-blueviolet)](https://github.com/c-ardinal/antigravity)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Platform: Windows | MacOS | Linux](https://img.shields.io/badge/Platform-Windows%20%7C%20MacOS%20%7C%20Linux-lightgrey)](#)

A powerful bridge tool designed to integrate the Claude Code plugin ecosystem into the Antigravity environment.
It enables the reuse of global-scope plugins (Skills, Workflows, Scripts) installed from the Claude Code marketplace within the global scope of Antigravity.

---

## ğŸš€ Key Features

- **âš¡ Plugin Sync**:
  Automatically discovers all plugins installed from the Claude Code marketplace and links them to the Antigravity skill directory.
- **ğŸ“‚ Global Workflow Integration**:
  Automatically converts Claude Code `commands/*.md` files for Antigravity and registers them as global workflows.
  This allows you to trigger plugin features directly via the `/` slash command.
- **ğŸ› ï¸ Environment Variable Bridging**:
  Automatically injects runtime environment variables expected by Claude plugins (such as `CLAUDE_PLUGIN_ROOT` and `CLAUDE_PROJECT_DIR`) based on the Antigravity context when executing scripts.
- **ğŸ›¡ï¸ Smart Symlinking**:
  Utilizes **Junctions / Hardlinks** on Windows (avoiding admin privilege requirements) and **Symlinks** on POSIX systems for stable cross-platform performance.

---

## ğŸ“¦ Setup

### Prerequisites

- **Python 3.6+** installed
- **Claude Code** installed, with plugins located in `[HOME]/.claude/plugins/marketplaces`

### Installation & Syncing

1. Place this folder in your Antigravity skill directory (e.g., `[HOME]/.gemini/antigravity/skills/`).
2. Run the following command to start synchronization:

```bash
python scripts/claude-bridge.py sync
```

---

## ğŸ“– Usage

### Slash Commands (Workflows)

After syncing, typing `/` in Antigravity will show commands derived from plugins, prefixed with `cb__`.
Example: `/cb__claude-plugins-official__feature-dev__feature-dev`

### Referencing Skills

Each plugin's `SKILL.md` can be directly referenced and learned by Antigravity as a "Skill".
The actual linked entities are located under `[SKILLS_DIR]/claude-bridge-for-antigravity/plugins/`.

### CLI Tool

Use the unified script `claude-bridge.py` to check details or execute scripts manually.

| Command       | Description                                                  |
| :------------ | :----------------------------------------------------------- |
| `sync`        | Synchronize with the marketplace and regenerate workflows.   |
| `list`        | List all synced plugins with their available resource types. |
| `info <name>` | Display plugin structure and Hook definitions.               |
| `run`         | Execute scripts with bridged environment variables.          |

---

## ğŸ“ Directory Structure

```text
.gemini/antigravity
â”œâ”€â”€skills
â”‚   â””â”€â”€claude-bridge-for-antigravity/
â”‚       â”œâ”€â”€ SKILL.md            # Skill definition for Antigravity
â”‚       â”œâ”€â”€ scripts/
â”‚       â”‚   â””â”€â”€ claude-bridge.py # Unified bridge script
â”‚       â”œâ”€â”€ plugins/            # Junctions/Links to actual plugins (generated by sync)
â”‚       â””â”€â”€ README.md           # This file
â””â”€â”€global_workflows             # Location where command copies are placed by sync
```

---

## âš–ï¸ Disclaimer

Claude Code and Antigravity have different runtime architectures.
This tool bridges files and environment variables, but does not support automatic hook firing dependent on Claude Code's internal event loop.
Please execute underlying scripts manually using the `run` command when necessary.

---

Produced by Antigravity Agents.
Logic, Evidence, Robustness.
